
<div align="center">

# üëû Tapkofon Fix

![Telegram](https://img.shields.io/badge/Telegram-blue?style=flat&logo=telegram)
![CodeStyle](https://img.shields.io/badge/code%20style-black-black)
![GitHub contributors](https://img.shields.io/github/contributors/D4n13l3k00/tapkofon)
![GitHub](https://img.shields.io/github/license/D4n13l3k00/tapkofon)

[![DeepSource](https://deepsource.io/gh/D4n13l3k00/tapkofon.svg/?label=active+issues&token=zBpkbE5y6_lXYxJ6RtPVrJQ1)](https://deepsource.io/gh/D4n13l3k00/tapkofon/?ref=repository-badge)
[![DeepSource](https://deepsource.io/gh/D4n13l3k00/tapkofon.svg/?label=resolved+issues&token=zBpkbE5y6_lXYxJ6RtPVrJQ1)](https://deepsource.io/gh/D4n13l3k00/tapkofon/?ref=repository-badge)

### !!!–î–∞–Ω–Ω—ã–π —Ñ–æ—Ä–∫ —á–∏–Ω–∏—Ç –∫–æ–Ω—Ñ–∏–≥ Dockerfile, —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (+ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –Ω–∞ [Render](https://render.com/); –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è main.py, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ goorm.io (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Okteto). –î—Ä—É–≥–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–Ω–æ—Å–∏–ª–∏—Å—å!!!

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é –≤–∞–º —Å–≤–æ–π –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç **Tapkofon** - –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –≤–µ–±-–∫–ª–∏–µ–Ω—Ç Telegram'–∞ –Ω–∞ Telethon, FastAPI, —Å–¥–µ–ª–∞–Ω–Ω—ã–π –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –¥–ª—è –∫–Ω–æ–ø–æ—á–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤

</div>

[–ò–¥–µ—è –≤–∑—è—Ç–∞ –æ—Ç—Å—é–¥–∞](https://github.com/xadjilut/microclient)

### üìú –î–ª—è —á–µ–≥–æ —ç—Ç–æ / –ì–¥–µ —ç—Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

- –ö–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –∫–Ω–æ–ø–æ—á–Ω–æ–º—É —Ç–µ–ª–µ—Ñ–æ–Ω—É `(ex. –ì–æ—Å.—Å–ª—É–∂–±–∞)`
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–µ —Ç–æ–ª—å–∫–æ html –∏ –∫—É–∫–∏ `(ex. –ö–Ω–æ–ø–æ—á–Ω—ã–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã)`
- –ú–µ—Å—Ç–æ —Å –æ—á–µ–Ω—å –Ω–∏–∑–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–º–∞–∑–æ—Ö–∏–∑–º)

### üíñ –§–∏—à–∫–∏

- –ü–∞—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ (cookie) ([config.py](/config.py#L11)). –ü–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –µ–≥–æ –≤–∫–ª—é—á–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ.
- –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∞ (–ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞ –æ–Ω —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –∫—ç—à –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –∏ –æ—Ç—Ç—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤–∞–º)
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ mp3 –∞—É–¥–∏–æ –≤ mp3 –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –≤ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- –ü–æ–¥–≥–æ–Ω–∫–∞ —Ñ–æ—Ç–æ –ø–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏ —Å–∂–∞—Ç–∏–µ([config.py](/config.py#L21)) –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –°–º–∞–π–ª–∏–∫–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç (—Ç–∞–ø–∏–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Å–æ–≤–µ—Ä–º–µ–Ω–Ω—ã–µ —é–Ω–∏–∫–æ–¥ —Å–º–∞–π–ª–∏–∫–∏)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–≤–∞—Ç–∞—Ä–∫–∞, —é–∑–µ—Ä–∫–∞ , –±–∏–æ)

### üò¢ –ë–∞–≥–∏ (–∫—É–¥–∞ –∂–µ –±–µ–∑ –±–∞–≥–æ–≤?)

- –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º –æ–±–ª–∞—á–Ω–æ–º –ø–∞—Ä–æ–ª–µ (—Ç–æ–ª—å–∫–æ –≤ –≤–µ–±–µ)
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ—à—å –±–∞–≥, [–ø–∏—à–∏ —Å—é–¥–∞](https://t.me/D4n13l3k00)

## üîù –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
git clone https://github.com/Elux414/tapkofon_fix
cd tapkofon
apt install python3 python3-venv python3-pip python3-setuptools ffmpeg -y
chmod +x *.sh
./local_deploy.sh
./run.sh
```

## üîª –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python üêç

[Python](https://www.python.org/downloads/)

### 2. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π üì©

–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/Elux414/tapkofon_fix
cd tapkofon
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ üì¶

```bash
apt install ffmpeg -y

python3 -m pip install --user -r requirements.txt
```

### 4. –ó–∞–ø—É—Å–∫ üöÄ

```bash
uvicorn main:app --host 0.0.0.0 --port 8000
```

–ö–ª–∏–µ–Ω—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É `8000` (–≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –Ω–∞ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –Ω–∞ `/docs`

### 5 –î–æ–∫–µ—Ä üê≥

### –ù–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1. –°–∫–∞—á–∏–≤–∞–π—Ç–µ –æ–±—Ä–∞–∑ `docker pull elux414/tapkofon-docker-fork`
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `docker run --name=tapik -itd -p 8888:8888 elux414/tapkofon-docker-fork`
Profit! –¢–æ–º –¥–ª—è —Å–µ—Å—Å–∏–π —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —á—Ç–æ —É–¥–æ–±–Ω–æ –∏ –¥–ª—è –≤–∞—Å, –∏ –¥–ª—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –Ω–∞ –æ–±–ª–∞–∫–µ.

### –°—Ç–∞—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
–ë–∏–ª–¥: `docker build -t tapik .`

–°–æ–∑–¥–∞—ë–º volume –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏: `docker volume create tapik-session` (—É–∂–µ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω–æ, volume —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∞–º)

–ó–∞–ø—É—Å–∫: `docker run -itd -p 8888:8888 -v tapik-session:/root/session tapik`

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å docker-compose: `docker-compose up -d`

P.S: –¥–æ—Å—Ç—É–ø–µ–Ω –¥–µ–ø–ª–æ–π –Ω–∞ [Okteto](https://cloud.okteto.com/#/deploy?repository=https://github.com/D4n13l3k00/tapkofon) P.S2: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—ë—Ç–µ, –Ω—É–∂–Ω—ã –¥–µ–Ω—å–≥–∏ :(

### –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê OKTETO

–ò–º–µ–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å tapkofon –Ω–∞ [goorm.io](https://www.goorm.io/dashboard)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª IDE
4. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –±–∞–∑–µ Ubuntu 20.04 LTS (Stack –≤—ã–±–∏—Ä–∞–π—Ç–µ "Python")
5. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/Elux414/tapkofon_fix
   ```
   
6. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   cd tapkofon
   ```
   
7. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É ffmpeg:
   ```bash
   apt install ffmpeg -y
   ```

8. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   python3 -m pip install -r requirements.txt
   
9. –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:
   ```bash
   pip install uvicorn
   ```
   
10. –î–∞–ª–µ–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   cd tapkofon
   ```

11. –ò –Ω–∞–∫–æ–Ω–µ—Ü:
   ```bash
   uvicorn main:app --host 0.0.0.0 --port 8000
   ```

12. –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤—ã–±–µ—Ä–µ—Ç–µ Container -> Running URL and Port

–£–∫–∞–∑—ã–≤–∞–µ—Ç–µ –ª—é–±—É—é —Å—Å—ã–ª–∫—É, –ø–æ—Ä—Ç —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ 8000. –ü–æ—Å–ª–µ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω—ã—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å–≤–æ–µ–π —Å—Å—ã–ª–∫–µ, –∫–æ—Ç–æ—Ä—É—é —É–∫–∞–∑—ã–≤–∞–ª–∏.

Profit! –í—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, –æ–¥–Ω–∞–∫–æ –ø–æ–º–Ω–∏—Ç–µ –æ —Ç–æ–º, —á—Ç–æ –∑–∞ —Ä–∞–±–æ—Ç—É —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è 2.25 –∫—Ä–µ–¥–∏—Ç–∞ –≤ —á–∞—Å, —Ç–∞–∫ —á—Ç–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—å–∑—É–µ—Ç–µ—Å—å –∏–º. –ï—Å–ª–∏ –Ω–∞–π–¥—ë—Ç–µ –∞–Ω–∞–ª–æ–≥ —Ç–∞–∫–æ–π –∂–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏ –±–æ–ª–µ–µ –ª—É—á—à–∏–π, —Ç–æ —Å–æ–æ–±—â–∏—Ç–µ –æ–± —ç—Ç–æ–º :)


### –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê OKTETO 2

–û–±–Ω–æ–≤–∏–ª Dockerfile, —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–æ–∫–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ [Render](https://render.com/)

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ Render
2. –í Dashboard –≤—ã–±–µ—Ä–∏—Ç–µ "+New", –¥–∞–ª–µ–µ "Web Service"
3. –í–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±—É–¥–µ—Ç "Public Git repository", –≤ –ø–æ–ª–µ –≤—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π https://github.com/Elux414/tapkofon_fix
4. –î–∞–ª–µ–µ –∑–∞–¥–∞–π—Ç–µ –∏–º—è, —Ä–µ–≥–∏–æ–Ω —Å–µ—Ä–≤–µ—Ä–∞ (—Å–æ–≤–µ—Ç—É—é –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π), instance type (–±–µ—Ä–∏—Ç–µ free)
5. –ù–∞–∂–º–∏—Ç–µ "Create Web Service"
6. –û–∂–∏–¥–∞–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–∞–ø–∫–æ—Ñ–æ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É.


### P.S ü§´ (–ø—Ä–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏ –¥–æ–∫–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ Render –¥–∞–Ω–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω–∞, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∏—á–µ–≥–æ –Ω–µ–ª—å–∑—è)

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–∏ `api_id` –∏ `api_hash` –≤ `config.toml` (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤ –ø–∞–ø–∫–µ session)

–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –º–æ–∂–µ—Ç –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∫–æ–¥ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –ª–∏—á–Ω–æ)

–ü–æ–ª—É—á–∏—Ç—å –∏—Ö –º–æ–∂–Ω–æ [–∑–¥–µ—Å—å](https://my.telegram.org/apps)
